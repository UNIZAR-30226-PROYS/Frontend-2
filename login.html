---
layout: general
---

<style>
  body{
    height: 200px;
    background: black; /* For browsers that do not support gradients */
    background: linear-gradient(to left, #516c79, #37474f); /* Standard syntax (must be last) */
  }
  .form-control{
    background-color: #999999;
    -webkit-border-radius: 0;
    -moz-border-radius: 0;
    border-radius: 30px;
  }
  .register-button{
    background-color: white;
    color: black;
    border-radius: 30px;
  }
    label{
        font-size: 15px;
    }
    ul li{
        font-size: 15px;
    }
    .tab-content{
        padding-top: 30px;
    }
</style>

<!-- kotlin code -->
<script src="/resources/js/KOTLINJS/out/production/KOTLINJS/lib/kotlin.js"></script>
<script src="/resources/js/KOTLINJS/out/production/KOTLINJS/KOTLINJS.js"></script>

<script>
  $(document).ready( function () {
      $('#register-button').click(function () {
          console.log('HEY');
          var nick = $('input[id="nick-signup"]').val();
          var user = $('input[id="user-signup"]').val();
          var pass0 = $('input[id="pass1-signup"]').val();
          var pass1 = $('input[id="pass2-signup"]').val();
          var mail = $('input[id="mail-signup"]').val();
          var country = $('input[id="country"]').val();
          var birth = $('input[id="date"]').val();
          resetRegisterInputs();
          if (user === "" || pass0 === "" || pass1 === "" || mail === "" || nick === "" || country === "" || birth === "") {
              if (user === "") {
                  $('div[id="user-signup-container"]').addClass("has-error");
                  $('span[id="user-signup-icon"]').removeClass("hidden");
              }
              if (pass0 === "") {
                  $('div[id="pass1-signup-container"]').addClass("has-error");
                  $('span[id="pass1-signup-icon"]').removeClass("hidden");
              }
              if (pass1 === "") {
                  $('div[id="pass2-signup-container"]').addClass("has-error");
                  $('span[id="pass2-signup-icon"]').removeClass("hidden");
              }
              if (mail === "") {
                  $('div[id="mail-signup-container"]').addClass("has-error");
                  $('span[id="mail-signup-icon"]').removeClass("hidden");
              }
              if (nick === "") {
                  $('div[id="nick-signup-container"]').addClass("has-error");
                  $('span[id="nick-signup-icon"]').removeClass("hidden");
              }
              if (country === "") {
                  $('div[id="country-signup-container"]').addClass("has-error");
                  $('span[id="country-signup-icon"]').removeClass("hidden");
              }
              if (date === "") {
                  $('div[id="date-signup-container"]').addClass("has-error");
                  $('span[id="date-signup-icon"]').removeClass("hidden");
              }
          } else {
              /****** TODO *******/
              document.cookie = "username=" + user + ";token=" + token;
              setCookie("username", user);
              setCookie("token", token);
          }
      });

      $('#login-button').click(function () {
          var user = $('input[id="user-login"]').val();
          var pass = $('input[id="pass-login"]').val();
          resetLoginInputs();
          if (user === "" || pass === "" ) {
              if (user === "") {
                  $('div[id="user-login-container"]').addClass("has-error");
                  $('span[id="user-login-icon"]').removeClass("hidden");
              }
              if (pass === "") {
                  $('div[id="pass-login-container"]').addClass("has-error");
                  $('span[id="pass-login-icon"]').removeClass("hidden");
              }
          } else {
              try {
                  var token = KOTLINJS.apis.doLoginServer_puj7f4$(user, pass);
                  document.cookie = "username=" + user + ";token=" + token;
                  setCookie("username", user);
                  setCookie("token", token);
              }catch(error) {
                  var x = document.getElementById("login-error-msg");
                  var y = document.getElementById("login-error-msg-space");
                  if (x.style.display === "none") {
                      x.style.display = "block";
                      y.style.display = "block";
                  } else {
                      x.style.display = "none";
                      y.style.display = "none";
                  }
              }
          }
      });
  });

  function resetRegisterInputs(){
      $('div[id="user-signup-container"]').removeClass("has-error");
      $('span[id="user-signup-icon"]').addClass("hidden");
      $('div[id="mail-signup-container"]').removeClass("has-error");
      $('span[id="mail-signup-icon"]').addClass("hidden");
      $('div[id="pass1-signup-container"]').removeClass("has-error");
      $('span[id="pass1-signup-icon"]').addClass("hidden");
      $('div[id="pass2-signup-container"]').removeClass("has-error");
      $('span[id="pass2-signup-icon"]').addClass("hidden");
      $('div[id="nick-signup-container"]').removeClass("has-error");
      $('span[id="nick-signup-icon"]').addClass("hidden");
      $('div[id="country-signup-container"]').removeClass("has-error");
      $('span[id="country-signup-icon"]').addClass("hidden");
      $('div[id="date-signup-container"]').removeClass("has-error");
      $('span[id="date-signup-icon"]').addClass("hidden");
  }
  function resetLoginInputs(){
      $('div[id="user-login-container"]').removeClass("has-error");
      $('span[id="user-login-icon"]').addClass("hidden");
      $('div[id="pass-login-container"]').removeClass("has-error");
      $('span[id="pass-login-icon"]').addClass("hidden");
  }

</script>

<div class="login-page">
<div class="container-fluid">
  <div class="row">
    <div class="col-xs-offset-2 col-xs-8 col-sm-offset-2 col-sm-8 col-md-offset-2 col-md-8">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#login">LOGIN</a></li>
        <li><a data-toggle="tab" href="#signup">SIGN UP</a></li>
      </ul>



      <div class="tab-content">
        <div id="login" class="tab-pane fade in active">
            <div id="loading-icon-login" class="hidden" align="center"><img width="100" height="100" src="/resources/imgs/loading.gif"></div>
          <div id="login-alert" class="hidden alert"></div>
          <form class="form-horizontal" action="myprofile.html" method="post">
              <label class="col-sm-3 control-label" style="display: none" id="login-error-msg-space"></label>
              <div class="col-sm-9" id="login-error-msg" style="display: none">
                  <div class="alert alert-danger">
                      <strong>Error!</strong> Error msg
                  </div>
              </div>
            <div id="user-login-container" class="form-group has-feedback">
              <!-- Esto habrá que cambiarlo por un POST al autentificador -->
              <label for="user-login" class="col-sm-3 control-label">Usuario</label>
              <div class="col-sm-9">
                <input class="form-control" type="text" id="user-login" name="userLogin" placeholder="Nombre de usuario">
                <span id="user-login-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>
            <div id="pass-login-container" class="form-group has-feedback">
              <label for="pass-login" class="col-sm-3 control-label">Contrase&ntilde;a</label>
              <div class="col-sm-9">
                <input class="form-control" type="password" id="pass-login" name="passLogin" placeholder="Contrase&ntilde;a">
                <span id="pass-login-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-3 col-sm-9">
                <!--<button id="login-button" type="button" class="btn btn-default">Login</button>-->
                <button type="button" id="login-button" class="register-button register-button-block">LogIn</button>
              </div>
            </div>
          </form>
        </div>


        <div id="signup" class="tab-pane fade">
            <div id="loading-icon-signup" class="hidden" align="center"><img width="100" height="100" src="/resources/imgs/loading.gif"></div>
          <div id="signup-alert" class="hidden alert"></div>
          <form class="form-horizontal" action="">
			<div id="nick-signup-container" class="form-group has-feedback">
              <!-- Esto habrá que cambiarlo por un POST al autentificador -->
              <label for="user-signup" class="col-sm-3 control-label">Nickname</label>
              <div class="col-sm-9">
                <input class="form-control" type="text" id="nick-signup" name="nickSignUp" placeholder="Nickname">
                  <span id="nick-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>
            <div id="user-signup-container" class="form-group has-feedback">
              <!-- Esto habrá que cambiarlo por un POST al autentificador -->
              <label for="user-signup" class="col-sm-3 control-label">Usuario</label>
              <div class="col-sm-9">
                <input class="form-control" type="text" id="user-signup" name="userSignUp" placeholder="Nombre de usuario">
                  <span id="user-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>

			<div id="date-signup-container" class="form-group has-feedback">
              <!-- Esto habrá que cambiarlo por un POST al autentificador -->
              <label for="user-signup" class="col-sm-3 control-label">Fecha de nacimiento</label>
              <div class="col-sm-9">
					<input class="form-control" id="date" type="date">
                  <span id="date-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>

			<div id="country-signup-container" class="form-group has-feedback">
              <!-- Esto habrá que cambiarlo por un POST al autentificador -->
              <label for="user-signup" class="col-sm-3 control-label">País</label>
              <div class="col-sm-9">
					<input class="form-control" id="country" type="country" placeholder="País">
                  <span id="country-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>

              <div id="mail-signup-container" class="form-group has-feedback">
              <label for="mail-signup" class="col-sm-3 control-label">Email</label>
              <div class="col-sm-9">
                <input class="form-control" type="email" id="mail-signup" name="mailSignUp" placeholder="Email">
                  <span id="mail-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>
              <div id="pass1-signup-container" class="form-group has-feedback">
              <label for="pass1-signup" class="col-sm-3 control-label">Contrase&ntilde;a</label>
              <div class="col-sm-9">
                <input class="form-control" type="password" id="pass1-signup" name="passSignUp" placeholder="Contrase&ntilde;a">
                  <span id="pass1-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>
              <div id="pass2-signup-container" class="form-group has-feedback">
              <label for="pass2-signup" class="col-sm-3 control-label">Contrase&ntilde;a (repetir)</label>
              <div class="col-sm-9">
                <input class="form-control" type="password" id="pass2-signup" name="pass2SignUp" placeholder="Contrase&ntilde;a">
                  <span id="pass2-signup-icon" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-3 col-sm-9">
                <!--<button id="register-button" type="submit" class="btn btn-default">SignUp</button>-->
                <button type="button" id="register-button" class="register-button register-button-block">Register</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

</div>